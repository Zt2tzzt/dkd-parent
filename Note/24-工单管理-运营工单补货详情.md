# 工单管理之运营工单补货详情

需求：在运营工单的页面，可以查看补货详情。

## 一、接口文档

### 1.1.基本信息

**Path：** /manage/taskDetails/byTaskId/:taskId

**Method：** GET

### 1.2.请求参数

路径参数：

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| taskId   |      | 工单id |

### 1.3.返回数据

| 名称              | 类型      | 是否必须 | 默认值 | 备注 | 其他信息          |
| ----------------- | --------- | -------- | ------ | ---- | ----------------- |
| msg               | string    | 必须     |        |      |                   |
| code              | number    | 必须     |        |      |                   |
| data              | object [] | 必须     |        |      | item 类型: object |
| ├─ createTime     | null      | 必须     |        |      |                   |
| ├─ updateTime     | null      | 必须     |        |      |                   |
| ├─ detailsId      | number    | 必须     |        |      |                   |
| ├─ taskId         | number    | 必须     |        |      |                   |
| ├─ channelCode    | string    | 必须     |        |      |                   |
| ├─ expectCapacity | number    | 必须     |        |      |                   |
| ├─ skuId          | null      | 必须     |        |      |                   |
| ├─ skuName        | string    | 必须     |        |      |                   |
| ├─ skuImage       | string    | 必须     |        |      |                   |

## 二、TaskDetails Controller 层改造

TaskDetailsController.java 控制器累

dkd-manage/src/main/java/com/dkd/manage/controller/TaskDetailsController.java

```java
/**
 * 根据工单Id查询工单详情列表
 */
@PreAuthorize("@ss.hasPermi('manage:taskDetails:list')")
@GetMapping("/byTaskId/{taskId}")
public AjaxResult listByTaskId(@PathVariable Long taskId) {
    TaskDetails taskDetails = new TaskDetails();
    taskDetails.setTaskId(taskId);
    return success(taskDetailsService.selectTaskDetailsList(taskDetails));
}
```

# 工单管理之代码生成

需求说明：工单是一种专业名词，是指用于`记录、处理、跟踪`一项工作的完成情况。

- 管理员登录后台系统，选择创建工单，在工单类型里，选择合适的工单类型，在设备编号里，输入正确的设备编号。
- 工作人员在运营管理 App，可以看到分配给自己的工单，根据实际情况，选择接收工单并完成，或者拒绝/取消工单。

帝可得工单，分为两大类 ：

- 运营工单：运营人员来维护售货机`商品`，即补货工单。

- 运维工单：运维人员来维护售货机`设备`，即投放工单、撤机工单、维修工单。

工单有四种状态：它们之间的流转，如下图所示：

- 待处理；进行中；已取消；已完成

![工单状态](/Users/zetian/workshop/project/dkd-parent/Note/NodeAssets/工单状态.png)

工单表，与其它相关表结构的关系，如下图所示：

- 关系字段：task_id、 product_type_id、inner_code、user_id、assignor_id、region_id
- 数据字典：task_status（1 待办、2 进行、3 取消、4 完成）
- 数据字典：create_type（0 自动、1 手动）
- PS：运营的工单包含补货信息，运维工单没有，所以运营工单需要单独创建补货工单

![工单表与相关表结构关系](/Users/zetian/workshop/project/dkd-parent/Note/NodeAssets/工单表与相关表结构关系.png)

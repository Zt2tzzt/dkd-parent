# å·¥å•ç®¡ç†ä¹‹ä»£ç ç”Ÿæˆ

éœ€æ±‚è¯´æ˜ï¼šå·¥å•æ˜¯ä¸€ç§ä¸“ä¸šåè¯ï¼Œæ˜¯æŒ‡ç”¨äº`è®°å½•ã€å¤„ç†ã€è·Ÿè¸ª`ä¸€é¡¹å·¥ä½œçš„å®Œæˆæƒ…å†µã€‚

- ç®¡ç†å‘˜ç™»å½•åå°ç®¡ç†ç³»ç»Ÿï¼Œé€‰æ‹©åˆ›å»ºå·¥å•ï¼Œåœ¨å·¥å•ç±»å‹é‡Œï¼Œé€‰æ‹©åˆé€‚çš„å·¥å•ç±»å‹ï¼Œåœ¨è®¾å¤‡ç¼–å·é‡Œï¼Œè¾“å…¥æ­£ç¡®çš„è®¾å¤‡ç¼–å·ã€‚
- å·¥ä½œäººå‘˜åœ¨è¿è¥ç®¡ç† Appï¼Œå¯ä»¥çœ‹åˆ°åˆ†é…ç»™è‡ªå·±çš„å·¥å•ï¼Œæ ¹æ®å®é™…æƒ…å†µï¼Œé€‰æ‹©æ¥æ”¶å·¥å•å¹¶å®Œæˆï¼Œæˆ–è€…æ‹’ç»/å–æ¶ˆå·¥å•ã€‚

å¸å¯å¾—å·¥å•ï¼Œåˆ†ä¸ºä¸¤å¤§ç±» ï¼š

- è¿è¥å·¥å•ï¼šè¿è¥äººå‘˜æ¥ç»´æŠ¤å”®è´§æœº`å•†å“`ï¼Œå³è¡¥è´§å·¥å•ã€‚

- è¿ç»´å·¥å•ï¼šè¿ç»´äººå‘˜æ¥ç»´æŠ¤å”®è´§æœº`è®¾å¤‡`ï¼Œå³æŠ•æ”¾å·¥å•ã€æ’¤æœºå·¥å•ã€ç»´ä¿®å·¥å•ã€‚

å·¥å•æœ‰å››ç§çŠ¶æ€ï¼šå®ƒä»¬ä¹‹é—´çš„æµè½¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

- å¾…å¤„ç†ï¼›è¿›è¡Œä¸­ï¼›å·²å–æ¶ˆï¼›å·²å®Œæˆ

![å·¥å•çŠ¶æ€](/Users/zetian/workshop/project/dkd-parent/Note/NodeAssets/å·¥å•çŠ¶æ€.png)

å·¥å•è¡¨ï¼Œä¸å…¶å®ƒç›¸å…³è¡¨ç»“æ„çš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

- å…³ç³»å­—æ®µï¼štask_idã€ product_type_idã€inner_codeã€user_idã€assignor_idã€region_id
- æ•°æ®å­—å…¸ï¼šå·¥å•çŠ¶æ€ task_statusï¼ˆ1 å¾…åŠã€2 è¿›è¡Œã€3 å–æ¶ˆã€4 å®Œæˆï¼‰
- æ•°æ®å­—å…¸ï¼šå·¥å•åˆ›å»ºç±»å‹ create_typeï¼ˆ0 è‡ªåŠ¨ã€1 æ‰‹åŠ¨ï¼‰
- PSï¼šè¿è¥çš„å·¥å•åŒ…å«è¡¥è´§ä¿¡æ¯ï¼Œè¿ç»´å·¥å•æ²¡æœ‰ï¼Œæ‰€ä»¥è¿è¥å·¥å•éœ€è¦å•ç‹¬åˆ›å»ºè¡¥è´§å·¥å•

![å·¥å•è¡¨ä¸ç›¸å…³è¡¨ç»“æ„å…³ç³»](/Users/zetian/workshop/project/dkd-parent/Note/NodeAssets/å·¥å•è¡¨ä¸ç›¸å…³è¡¨ç»“æ„å…³ç³».png)

## ä¸€ã€ç›®å½•èœå•åˆ›å»º

åˆ›å»ºå•†å“ç®¡ç†ç›®å½•èœå•ï¼š

- å·¦ä¾§èœå• -> ç³»ç»Ÿç®¡ç† -> èœå•ç®¡ç†ã€‚
- ç‚¹å‡»â€œæ–°å»ºâ€æŒ‰é’®ï¼Œæ‰“å¼€ä¼šè¯æ¡†ã€‚
- â€œä¸Šçº§èœå•â€ï¼Œé€‰æ‹©â€œä¸»ç±»ç›®â€ã€‚
- â€œèœå•ç±»å‹â€ï¼Œé€‰æ‹©â€œç›®å½•â€ï¼›
- â€œèœå•å›¾æ ‡â€ï¼Œé€‰æ‹©å•†å“ç®¡ç†å›¾æ ‡ã€‚
- â€œèœå•åç§°â€ï¼Œå¡«å†™â€œå·¥å•ç®¡ç†â€ï¼›
- â€œæ˜¾ç¤ºæ’åºâ€ï¼Œè¾“å…¥â€œ1â€ï¼›
- â€œ**è·¯ç”±åœ°å€**â€ï¼Œå¡«å†™â€œ`task`â€ï¼Œç”¨äºå‰ç«¯è·¯ç”±é¡µé¢è·³è½¬ã€‚
- ç‚¹å‡»â€œç¡®å®šâ€ã€‚

## äºŒã€æ•°æ®å­—å…¸æ·»åŠ 

### 2.1.å·¥å•çŠ¶æ€-æ•°æ®å­—å…¸

åˆ›å»ºâ€å·¥å•çŠ¶æ€â€œçš„å­—å…¸ç±»å‹ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š

1. å·¦ä¾§èœå• -> ç³»ç»Ÿç®¡ç† -> å­—å…¸ç®¡ç†
2. ç‚¹å‡»â€œæ–°å»ºâ€ï¼Œæ‰“å¼€æ–°å»ºæ•°æ®å­—å…¸å¯¹è¯æ¡†ã€‚
3. â€œå­—å…¸åç§°â€ï¼Œå¡«å†™â€œå·¥å•çŠ¶æ€â€ã€‚
4. â€œå­—å…¸ç±»å‹â€ï¼Œå¡«å†™â€œ`task_status`â€ã€‚
5. â€œå¤‡æ³¨â€ï¼Œå¡«å†™â€œå·¥å•çŠ¶æ€â€ã€‚
6. ç‚¹å‡»â€ç¡®å®šâ€œã€‚

ä¸ºâ€å·¥å•çŠ¶æ€â€œæ•°æ®å­—å…¸ï¼Œæ·»åŠ å¯é€‰é¡¹ï¼š

1. æ‰¾åˆ°â€œå‘˜å·¥çŠ¶æ€â€è¡Œï¼Œç‚¹å‡»â€œå­—å…¸ç±»å‹â€åˆ— `task_status`ï¼Œè¿›å…¥å­—æ®µæ•°æ®é¡µé¢ã€‚
2. ç‚¹å‡»â€æ–°å»ºâ€œæŒ‰é’®ï¼Œæ‰“å¼€å¯¹è¯æ¡†ã€‚
3. â€æ•°æ®æ ‡ç­¾â€œï¼Œå¡«å†™â€ä»£åŠâ€œã€‚
4. â€æ•°æ®é”®å€¼â€œï¼Œå¡«å†™â€1â€œã€‚
5. â€æ˜¾ç¤ºæ’åºâ€œï¼Œå¡«å†™â€1â€œã€‚
6. ç‚¹å‡»â€ç¡®å®šâ€œã€‚
7. ä¾æ­¤ç±»æ¨ï¼Œæ·»åŠ â€è¿›è¡Œâ€œã€â€œå–æ¶ˆâ€ã€â€œå®Œæˆâ€çŠ¶æ€ã€‚

### 2.2.å·¥å•åˆ›å»ºç±»å‹-æ•°æ®å­—å…¸

åˆ›å»ºâ€å·¥å•åˆ›å»ºç±»å‹â€œçš„å­—å…¸ç±»å‹ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š

1. å·¦ä¾§èœå• -> ç³»ç»Ÿç®¡ç† -> å­—å…¸ç®¡ç†
2. ç‚¹å‡»â€œæ–°å»ºâ€ï¼Œæ‰“å¼€æ–°å»ºæ•°æ®å­—å…¸å¯¹è¯æ¡†ã€‚
3. â€œå­—å…¸åç§°â€ï¼Œå¡«å†™â€œå·¥å•åˆ›å»ºç±»å‹â€ã€‚
4. â€œå­—å…¸ç±»å‹â€ï¼Œå¡«å†™â€œ`task_create_type`â€ã€‚
5. â€œå¤‡æ³¨â€ï¼Œå¡«å†™â€œå·¥å•åˆ›å»ºç±»å‹â€ã€‚
6. ç‚¹å‡»â€ç¡®å®šâ€œã€‚

ä¸ºâ€å·¥å•åˆ›å»ºç±»å‹â€œæ•°æ®å­—å…¸ï¼Œæ·»åŠ å¯é€‰é¡¹ï¼š

1. æ‰¾åˆ°â€œå·¥å•åˆ›å»ºç±»å‹â€è¡Œï¼Œç‚¹å‡»â€œå­—å…¸ç±»å‹â€åˆ— `task_create_type`ï¼Œè¿›å…¥å­—æ®µæ•°æ®é¡µé¢ã€‚
2. ç‚¹å‡»â€æ–°å»ºâ€œæŒ‰é’®ï¼Œæ‰“å¼€å¯¹è¯æ¡†ã€‚
3. â€æ•°æ®æ ‡ç­¾â€œï¼Œå¡«å†™â€è‡ªåŠ¨â€œã€‚
4. â€æ•°æ®é”®å€¼â€œï¼Œå¡«å†™â€0â€œã€‚
5. â€æ˜¾ç¤ºæ’åºâ€œï¼Œå¡«å†™â€1â€œã€‚
6. ç‚¹å‡»â€ç¡®å®šâ€œã€‚
7. ä¾æ­¤ç±»æ¨ï¼Œæ·»åŠ â€æ‰‹åŠ¨â€œçŠ¶æ€ã€‚

## ä¸‰ã€ä»£ç ç”Ÿæˆ

å·¥æ®µç®¡ç†æ¨¡å—çš„å‰ç«¯ä»£ç ï¼Œå·²ç»åœ¨èµ„æ–™ä¸­å‡†å¤‡å¥½ï¼Œå¯¼å…¥å³å¯ã€‚æ‰€ä»¥åœ¨é…ç½®å­—æ®µä¿¡æ¯æ—¶å°½é‡è®©æ¡ä»¶æ›´åŠ ä¸°å¯Œï¼Œè¿™æ ·åæœŸæ‰©å±•æ€§æ›´å¼ºã€‚

- æ³¨æ„ï¼šç»™â€œå·¥å•çŠ¶æ€â€ï¼Œâ€œåˆ›å»ºç±»å‹â€ä¸¤ä¸ªå­—æ®µï¼Œè®¾ç½®æ•°æ®å­—å…¸ã€‚

1ï¸âƒ£ã€æ‰“å¼€ç³»ç»Ÿçš„å‰ç«¯é¡µé¢ -> å·¦ä¾§èœå• -> ç³»ç»Ÿå·¥å…· -> ä»£ç ç”Ÿæˆ

2ï¸âƒ£ã€ç‚¹å‡»â€œå¯¼å…¥â€ï¼Œåœ¨å¯¼å…¥è¡¨é¡µé¢ -> é€‰æ‹©ä½¿ç”¨ sql è„šæœ¬åˆ›å»ºè¿‡çš„ `task`ã€`task_details`ã€`task_type`ã€`job` æ•°æ®åº“è¡¨ -> ç¡®å®š

- è¿™æ­¥æ“ä½œï¼Œå°†æ•°æ®åº“ `task`ã€`task_details`ã€`task_type`ã€`job` äº¤ç»™äº†è‹¥ä¾æ¡†æ¶çš„ä»£ç ç”Ÿæˆå™¨è¿›è¡Œç®¡ç†ã€‚

3ï¸âƒ£ã€åœ¨é€‰é¡¹åˆ—è¡¨é¡µé¢ç‚¹å‡» `task` è¿™è¡Œè®°å½•çš„åæ–¹â€œæ“ä½œâ€åˆ—çš„â€œç¼–è¾‘â€æŒ‰é’®ã€‚

1. ç‚¹å‡»â€œåŸºæœ¬ä¿¡æ¯â€é€‰é¡¹å¡ï¼Œä¿®æ”¹â€œå®ä½“è¡¨åç§°â€ã€â€œä½œè€…â€ä¸¤é¡¹ã€‚
2. ç‚¹å‡»â€œå­—æ®µä¿¡æ¯â€é€‰é¡¹å¡ï¼Œå‚è€ƒé¡µé¢åŸå‹å®Œæˆã€‚
3. ç‚¹å‡»â€œç”Ÿæˆä¿¡æ¯â€é€‰é¡¹å¡ï¼Œ
   - â€œç”ŸæˆåŒ…è·¯å¾„â€ï¼Œæ”¹ä¸º `com.dkd.manage`ï¼›
   - â€œç”Ÿæˆæ¨¡å—åâ€ï¼Œæ”¹ä¸º `manage`ï¼›
   - â€ç”ŸæˆåŠŸèƒ½åâ€œï¼Œæ”¹ä¸ºâ€å·¥å•â€œã€‚è¿™ä¼šæ˜¯èœå•çš„åç§°ã€‚
   - â€œç”Ÿæˆä¸šåŠ¡åâ€ï¼Œæ”¹ä¸ºâ€œ`task`â€œã€‚
   - â€œä¸Šçº§èœå•â€ï¼Œé€‰æ‹©â€å·¥å•ç®¡ç†â€œã€‚è¡¨ç¤ºå‰ç«¯å·¦ä¾§èœå•çš„ä½ç½®ï¼Œå¦‚æœä¸é€‰ï¼Œé»˜è®¤å°±åœ¨â€œç³»ç»Ÿå·¥å…·â€ä¸‹ã€‚
4. ç‚¹å‡»â€œæäº¤â€

4ï¸âƒ£ã€ä¾æ­¤ç±»æ¨ï¼Œå®Œæˆ `task_details`ã€`task_type`ã€`job` çš„é…ç½®ã€‚

5ï¸âƒ£ã€åœ¨é€‰é¡¹åˆ—è¡¨é¡µé¢ï¼Œé€‰ä¸­ `task`ã€`task_details`ã€`task_type`ã€`job` å››è¡Œè®°å½•ï¼Œç‚¹å‡»â€œç”Ÿæˆâ€æŒ‰é’®ã€‚ä¼šè·å¾—ä¸€ä¸ª zip å‹ç¼©åŒ…ã€‚

è§£å‹åï¼ŒåŒ…å«åç«¯ä»£ç ã€å‰ç«¯ä»£ç ã€åŠ¨æ€èœå• sql æ–‡ä»¶ä¸‰éƒ¨åˆ†å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼›

â”œâ”€ğŸ“ main/------------------ # åç«¯ä»£ç 
â”œâ”€ğŸ“ vue/------------------- # å‰ç«¯ä»£ç 
â”œâ”€ğŸ“„ jobMenu.sql
â”œâ”€ğŸ“„ taskDetailsMenu.sql
â”œâ”€ğŸ“„ taskMenu.sql
â””â”€ğŸ“„ taskTypeMenu.sql

## å››ã€è‡ªåŠ¨ç”Ÿæˆä»£ç å¯¼å…¥

ç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œä»…éœ€å¯¼å…¥åç«¯ä»£ç éƒ¨ä»½å³å¯ã€‚

### 4.1.åç«¯ä»£ç å¯¼å…¥

å°†åç«¯ä»£ç ï¼Œå¯¼å…¥åˆ°é¡¹ç›®ä¸­ã€‚

é‡å¯åç«¯å·¥ç¨‹ã€‚

## äº”ã€èµ„æ–™å‡†å¤‡ä»£ç å¯¼å…¥

### 5.1.å‰ç«¯ä»£ç å¯¼å…¥

å°†å‡†å¤‡å¥½çš„â€œ07-å·¥å•å‰ç«¯â€ä»£ç ï¼Œå¯¼å…¥åˆ°å‰ç«¯å·¥ç¨‹ä¸­ã€‚

â”œâ”€ğŸ“ api/
â”‚â€ƒâ”œâ”€ğŸ“ manage/
â”‚â€ƒâ”‚â€ƒâ”œâ”€ğŸ“„ task.js
â”‚â€ƒâ”‚â€ƒâ””â”€ğŸ“„ taskType.js
â”‚â€ƒ
â”œâ”€ğŸ“ views/
â”‚â€ƒâ”œâ”€ğŸ“ task/
â”‚â€ƒâ”‚â€ƒâ”œâ”€ğŸ“ components/
â”‚â€ƒâ”‚â€ƒâ”œâ”€ğŸ“„ .DS_Store
â”‚â€ƒâ”‚â€ƒâ”œâ”€ğŸ“„ business.vue
â”‚â€ƒâ”‚â€ƒâ”œâ”€ğŸ“„ index.scss
â”‚â€ƒâ”‚â€ƒâ””â”€ğŸ“„ operation.vue

### 5.2.èœå•é…ç½®

â€œè¿è¥å·¥å•â€èœå•é…ç½®æ­¥éª¤ï¼š

- å·¦ä¾§èœå• -> ç³»ç»Ÿç®¡ç† -> èœå•ç®¡ç†ã€‚
- ç‚¹å‡»â€œæ–°å»ºâ€æŒ‰é’®ï¼Œæ‰“å¼€ä¼šè¯æ¡†ã€‚
- â€œä¸Šçº§èœå•â€ï¼Œé€‰æ‹©â€œå·¥å•ç®¡ç†â€ã€‚
- â€œèœå•ç±»å‹â€ï¼Œé€‰æ‹©â€œèœå•â€ï¼›
- â€œèœå•å›¾æ ‡â€ï¼Œä¸é€‰æ‹©ã€‚
- â€œèœå•åç§°â€ï¼Œå¡«å†™â€œè¿è¥å·¥å•â€ï¼›
- â€œæ˜¾ç¤ºæ’åºâ€ï¼Œè¾“å…¥â€œ1â€ï¼›
- â€œ**è·¯ç”±åœ°å€**â€ï¼Œå¡«å†™â€œ`business`â€ï¼Œç”¨äºå‰ç«¯è·¯ç”±é¡µé¢è·³è½¬ã€‚
- â€œ**ç»„ä»¶è·¯å¾„**â€ï¼Œå¡«å†™â€œ`manage/task/business`â€ï¼›
- â€œ**æƒé™å­—ç¬¦ä¸²**â€ï¼Œå¡«å†™â€œ`manage:task:list`â€
- ç‚¹å‡»â€œç¡®å®šâ€ã€‚

â€œè¿ç»´å·¥å•â€èœå•é…ç½®æ­¥éª¤ï¼š

- å·¦ä¾§èœå• -> ç³»ç»Ÿç®¡ç† -> èœå•ç®¡ç†ã€‚
- ç‚¹å‡»â€œæ–°å»ºâ€æŒ‰é’®ï¼Œæ‰“å¼€ä¼šè¯æ¡†ã€‚
- â€œä¸Šçº§èœå•â€ï¼Œé€‰æ‹©â€œå·¥å•ç®¡ç†â€ã€‚
- â€œèœå•ç±»å‹â€ï¼Œé€‰æ‹©â€œèœå•â€ï¼›
- â€œèœå•å›¾æ ‡â€ï¼Œä¸é€‰æ‹©ã€‚
- â€œèœå•åç§°â€ï¼Œå¡«å†™â€œè¿ç»´å·¥å•â€ï¼›
- â€œæ˜¾ç¤ºæ’åºâ€ï¼Œè¾“å…¥â€œ2â€ï¼›
- â€œ**è·¯ç”±åœ°å€**â€ï¼Œå¡«å†™â€œ`operation`â€ï¼Œç”¨äºå‰ç«¯è·¯ç”±é¡µé¢è·³è½¬ã€‚
- â€œ**ç»„ä»¶è·¯å¾„**â€ï¼Œå¡«å†™â€œ`manage/task/operation`â€ï¼›
- â€œ**æƒé™å­—ç¬¦ä¸²**â€ï¼Œå¡«å†™â€œ`manage:task:list`â€
- ç‚¹å‡»â€œç¡®å®šâ€ã€‚

åˆ·æ–°é¡µé¢ï¼ŒæŠ¥äº†ä¸€ä¸ª SQL è¯­æ³•å¼‚å¸¸ï¼›åŸå› æ˜¯ `TaskMapper` æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€ä¸ª desc å­—æ®µï¼Œä¸ MySQL ä¸­çš„å…³é”®å­—é‡åˆäº†ã€‚

å°† `desc` åŠ ä¸Šåå¼•å·ã€‚

dkd-manage/src/main/resources/mapper/manage/TaskMapper.xml

```xml
<sql id="selectTaskVo">
    select task_id, task_code, task_status, create_type, inner_code, user_id, user_name, region_id, `desc`, product_type_id, assignor_id, addr, create_time, update_time from task
</sql>
```

è‡³æ­¤ï¼Œé¡µé¢å·²ç»å¯¼å…¥å®Œæˆï¼Œåˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°â€œè¿è¥å·¥å•â€ã€â€œè¿ç»´å·¥å•â€ä¸¤ä¸ªèœå•æ˜¾ç¤ºåœ¨å·¦ä¾§ã€‚

ç‚¹å‡»è¿›å…¥åï¼Œä¼šå‘ç°ï¼Œä¸¤ä¸ªèœå•å±•ç¤ºçš„å†…å®¹æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚
